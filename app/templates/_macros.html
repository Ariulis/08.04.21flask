{% macro forms(form) %}
    <form class="form" method="POST">
        {% set simple_inputs, checkbox_inputs = ['username', 'email', 'password', 'password2'], ['remember_me'] %}
        {% for field in form %}
            {% if field.name in simple_inputs %}
                <div class="form-group">
                    {{ field.label }}
                    {{ field(class='form-control') }}
                </div>
            {% elif field.name in checkbox_inputs %}
                <div class="form-group form-check">
                    {{ field(class='form-check-input') }}
                    {{ field.label(class='form-check-label') }}
                </div>
            {% elif field.name == 'submit' %}
                {{ field(class='btn btn-primary') }}
            {% else %}
                {{ field }}
            {% endif %}
            {% if field.errors %}
                <ul class="list-unstyled show-error">
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endfor %}
    </form>
{% endmacro %}